CREATE TABLE player_summary	(
	steam_id VARCHAR(40) NOT NULL,
	community_visibility_state INTEGER NOT NULL,
	profile_state INT,
	persona_name VARCHAR(40),
	last_logoff BIGINT,
	comment_permission INT,
	profile_url VARCHAR(255),
	avatar VARCHAR(255),
	avatar_medium VARCHAR(255),
	avatar_full VARCHAR(255),
	persona_state INTEGER,
	real_name VARCHAR,
	primary_clan_id VARCHAR(40),
	time_created BIGINT,
	persona_state_flags INT,
	game_extra_info VARCHAR(40),
	game_id VARCHAR(40),
	loc_country_code VARCHAR,
	CONSTRAINT player_summary_pk PRIMARY KEY (STEAM_ID)
);

CREATE TABLE match_detail(
	match_id BIGINT,
	radiant_win BOOLEAN,
	duration INT,
	start_time BIGINT,
	match_seq_num BIGINT,
	tower_status_radiant INT,
	tower_status_dire INT,
	barracks_status_radiant INT,
	barracks_status_dire INT,
	cluster INT,
	first_blood_time INT,
	lobby_type INT,
	human_players INT,
	league_id INT,
	negative_votes INT,
	positive_votes INT,
	game_mode INT,
	engine INT,
	CONSTRAINT match_detail_pk PRIMARY KEY (match_id)
);

CREATE TABLE match_detail_player(
	id BIGSERIAL,
	match_id INT,
	steam_id INT,
	accountid BIGINT,
	player_slot INT,
	hero_id INT,
	item0 INT,
	item1 INT, 
	item2 INT,
	item3 INT,
	item4 INT,
	item5 INT,
	kills INT,
	deaths INT,
	assists INT,
	leaver_status INT,
	gold INT,
	last_hits INT,
	denies INT,
	gold_per_min INT,
	xp_per_min INT,
	gold_spent INT,
	hero_damage INT,
	tower_damage INT, 
	hero_healing INT,
	level INT,
	CONSTRAINT match_detail_player_pk PRIMARY KEY (id),
	CONSTRAINT match_detail_player_match_id_fk FOREIGN KEY (match_id) REFERENCES MATCH_DETAIL (match_id),
	CONSTRAINT match_detail_player_steam_id_fk FOREIGN KEY (steam_id) REFERENCES PLAYER_SUMMARY (steam_id)
);

CREATE TABLE match_detail_player_ability(
	id BIGSERIAL,
	match_player_id BIGINT,
	ability INT,
	time INT,
	level INT,
	CONSTRAINT match_detail_player_ability_pk PRIMARY KEY (id),
	CONSTRAINT match_detail_ability_match_detail_player_fk FOREIGN KEY (match_player_id) REFERENCES match_detail_player(id)
);

CREATE TABLE match_detail_additional_units(
	id BIGSERIAL,
	match_player_id BIGINT,
	unit_name VARCHAR(40),
	item0 INT,
	item1 INT, 
	item2 INT,
	item3 INT,
	item4 INT,
	item5 INT,
	CONSTRAINT match_detail_additional_units_pk PRIMARY KEY (id),
	CONSTRAINT match_detail_additional_units_match_detail_player_fk FOREIGN KEY (match_player_id) REFERENCES match_detail_player(id)
);

CREATE TABLE ABILITY(
        id INT,
        hero_id INT,
        name VARCHAR(255),
        localized_name VARCHAR(255),
        CONSTRAINT ability_pk PRIMARY KEY (id),
);






